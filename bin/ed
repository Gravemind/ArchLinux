#!/bin/bash

##
## named emacs client auto launch daemon
##
## usage: emacscl DEAMON_NAME [args...]
##

DAEMON_NAME="$1"
shift
PID=`ps ax | grep -- "--daemon=$DAEMON_NAME"| grep -v 'grep'  | sed -r 's/\s*([0-9]+).*/\1/g'`
echo "$PID"
if [[ -z "$PID" ]]
then
	emacsd start $DAEMON_NAME
fi
emacsclient -s $DAEMON_NAME -c -n "$@"
